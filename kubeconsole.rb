# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kubeconsole < Formula
  desc "Utility to create temporary REPL pods from deployments"
  homepage "https://github.com/micke/kubeconsole"
  version "1.1.2"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/micke/kubeconsole/releases/download/v1.1.2/kubeconsole_1.1.2_darwin_amd64.tar.gz"
      sha256 "399433f2e7f59c807a0db1e1666eb23ef1385e8a2ab08c19864665e1a542c191"

      def install
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/micke/kubeconsole/releases/download/v1.1.2/kubeconsole_1.1.2_darwin_arm64.tar.gz"
      sha256 "22194abd861b78e412ec5c1adea08261a5172aa6ac2063bdc989834b48c9b1e8"

      def install
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/micke/kubeconsole/releases/download/v1.1.2/kubeconsole_1.1.2_linux_arm64.tar.gz"
      sha256 "ad0a4c91e0007c99930bb982f23a0122fe6b1bec34d16422470e70a999c18060"

      def install
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/micke/kubeconsole/releases/download/v1.1.2/kubeconsole_1.1.2_linux_amd64.tar.gz"
      sha256 "a9eb4c98c45f52d14d65127d3c5a52607aa7c05e5d34e8fcec3fc4eb9287f585"

      def install
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
  end

  test do
    system "#{bin}/kubeconsole", "--help"
  end
end
