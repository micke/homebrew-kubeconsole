# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kubeconsole < Formula
  desc "Utility to create temporary REPL pods from deployments"
  homepage "https://github.com/micke/kubeconsole"
  version "2.0.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/micke/kubeconsole/releases/download/v2.0.0/kubeconsole_2.0.0_darwin_amd64.tar.gz"
      sha256 "379ed74205af37fc188bcf4a2b8388f427230d82b6c85c033db5220ef2e662eb"

      define_method(:install) do
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/micke/kubeconsole/releases/download/v2.0.0/kubeconsole_2.0.0_darwin_arm64.tar.gz"
      sha256 "1bcf1afef4acfa4c8ff9abe0c336ff2e914e7924adcf2aad4b9fd2650d3f91e6"

      define_method(:install) do
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/micke/kubeconsole/releases/download/v2.0.0/kubeconsole_2.0.0_linux_amd64.tar.gz"
      sha256 "3ebd03cc256041da692a209087f62e4f3f0f2329dfaa18b7cbe6c25b8087324b"
      define_method(:install) do
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/micke/kubeconsole/releases/download/v2.0.0/kubeconsole_2.0.0_linux_arm64.tar.gz"
      sha256 "dbdfe9c420ecedae9ee376df3fc80680d5b39c8e8c0b0e8d9653e71ab6463325"
      define_method(:install) do
        bin.install "kubeconsole"

        bash_completion.install "completions/kubeconsole.bash" => "kubeconsole"
        zsh_completion.install "completions/kubeconsole.zsh" => "_kubeconsole"
        fish_completion.install "completions/kubeconsole.fish" => "_kubeconsole"
      end
    end
  end

  test do
    system "#{bin}/kubeconsole", "--help"
  end
end
